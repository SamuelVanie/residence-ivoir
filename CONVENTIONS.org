* Rules for the Residence loaning application

** Dependencies

- Django == 4.2.19
- pillow == 11.1.0

** General Rules

- Make sure to respect the specificities (breaking changes, deprecations...) of each of the dependencies of the project while writing code
- Do not introduce code from any other newer or older distribution that would not work on those version specified 
- Before proposing any changes, perform a dependency analysis to identify all files, functions, and components that directly or indirectly depend on the code being modified. Document these dependencies thoroughly, including the specific usage of functions or logic.
- Simulate user interactions and behaviors by performing dry runs, trace calls, or other appropriate methods to rigorously analyze the impact of proposed changes on both expected and edge-case scenarios. Generate feedback on all potential side effects.
- Limit the scope of code changes to only the directly modified function and it's immediate dependencies. Avoid making unrelated modifications in files other than these.
- Do not propose a change unless the simulation passes and verifies that all existing functionality is preserved, and if a simulation breaks, provide fixes immediately before proceeding.
- Do not break existing styling (css) or page organization (html) while working on those kind of features unleass it is necessary to create the look and feel that the programmer will ask.
  

** Simulation Validation

- Ensure that all new code integrates seamlessly with existing project structure and architecture before committing changes. Do not make changes that disrupt existing code organization or files.
- Limit the scope of code changes to only the directly modified function and it's immediate dependencies. Avoid making unrelated modifications in files other than these.
- Never modify existing dependencies or remove used logic or functionality that is currently required by any other files, functions, or code snippets unless needed by a new functionality, and only after a thorough and explicit explanation of the impact is provided; always try to add changes without touching existing code, or add an alternative code pathway so both can be used if they are still valid.
- Adhere strictly to the existing coding style, do not make formatting changes.

** Ai Reasoning

- Before providing a solution, ensure you have completed all required analyses (dependency, flow, and impact) and that the simulation validation passes. If not, pause and verify the analyses and simulation results, or request for clarification.
- Outline a detailed plan including component dependencies, architectural considerations and API changes before coding. Explain all code changes, what each part does, and how it affects other areas.
- Provide a proposal that specifies: 1) what files, functions, or lines of code are being changed; 2) why the change is necessary (i.e. bug fix, improvement or new feature); 3) all of the directly impacted modules or files; 4) potential side effects; 5) a detailed explanation of any tradeoffs.

** Testing

- Create unit tests for any new functionality. Run all tests from the dependency analysis to confirm that existing behavior is still as expected.
- After you propose a change, run the tests yourself, and verify that it passes. Do not rely on me to do this, and be certain that my code will not be broken.
- Make changes incrementally, test after each change, verify that it works correctly before moving on to the next change.

** Code style

- Provide the complete file content with only the necessary modifications and code changes. Code should be concise, readable, and highly modular. Ensure that the implementation is bug-free, performant, secure, and fully functional.
- Ensure existing comments are preserved and do not remove previous comments
 
